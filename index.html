
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Urban Renew - Map System</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #f5f5f5;
    }
    #map {
      height: 100%;
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .leaflet-popup-content-wrapper {
      border-radius: 8px;
      background-color: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    .leaflet-control-zoom a {
      background-color: #4285f4;
      color: white;
    }
    .leaflet-control-zoom a:hover {
      background-color: #3367d6;
    }
    #locateBtn {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      background: #4285f4;
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }
    #locateBtn:hover {
      background: #3367d6;
    }
  </style>
</head>
<body>
  <button id="locateBtn">üìç Find My Location</button>
  <div id="map"></div>

  <script>
    // Initialize the map (default view on India)
    const map = L.map('map').setView([22.9734, 78.6569], 5);

    // Load map tiles
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; OpenStreetMap & CartoDB',
      subdomains: 'abcd',
      maxZoom: 19
    }).addTo(map);

    // Locate and pin function
    function locateUser() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const lat = pos.coords.latitude;
            const lng = pos.coords.longitude;

            map.setView([lat, lng], 15);

            L.marker([lat, lng])
              .addTo(map)
              .bindPopup("<b>Your Location</b><br>Lat: " + lat.toFixed(4) + "<br>Lng: " + lng.toFixed(4))
              .openPopup();
          },
          (err) => {
            alert("Unable to get location: " + err.message);
          }
        );
      } else {
        alert("Geolocation is not supported by your browser.");
      }
    }

    // On button click ‚Üí get location
    document.getElementById("locateBtn").addEventListener("click", locateUser);
  </script>
</body>
</html>
